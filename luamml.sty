\ProvidesExplPackage {luamml} {2021-04-23} {0.0.1-alpha}
  {Feel free to add a description here}

\int_new:N \l__luamml_flag_int
\tl_new:N \l__luamml_filename_tl
\int_new:N \tracingmathml
\lua_now:n { require'luamml-tex' }

\cs_new:Npn \luamml_flag_save: {
  \int_set:Nn \l__luamml_flag_int { 2 }
}
\cs_new:Npn \luamml_flag_ignore: {
  \int_set:Nn \l__luamml_flag_int { 3 }
}
\cs_new:Npn \luamml_flag_alignment_left: {
  \int_set:Nn \l__luamml_flag_int { 7 }
}
\cs_new:Npn \luamml_flag_alignment_right: {
  \int_set:Nn \l__luamml_flag_int { 6 }
}
\cs_new:Npn \luamml_flag_structelem: {
  \int_set:Nn \l__luamml_flag_int { 8 }
}
\cs_new:Npn \luamml_set_filename:n {
  \tl_set:Nn \l__luamml_filename_tl
}

\cs_new:Npn \__luamml_patch_package:nn #1 #2 {
  \@ifpackageloaded {#1} {#2} {
    \hook_gput_code:nnn {package/after/#1} {luamml} {#2}
  }
}
\cs_new:Npn \__luamml_patch_package:n #1 {
  \__luamml_patch_package:nn {#1} {
    \RequirePackage { luamml-patches-#1 }
  }
}
\__luamml_patch_package:n {amsmath}
\__luamml_patch_package:n {array}
